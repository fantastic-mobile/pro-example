
/**
 * 由 Fantastic-mobile 提供技术支持
 * Powered by Fantastic-mobile
 * https://fantastic-mobile.hurui.me/
 */
    
import{_ as y}from"./index-TGLGxjLi.js";import{_ as g}from"./index.vue_vue_type_script_setup_true_lang-CuFXODrP.js";import{d as k,r as x,Q as h,T as D,S,j as b,o as u,k as $,t as N,u as a,G as P,U as O,s as F,c as m,W as j,b as n,a as w,w as c,f as V,_ as E,F as G,X as B}from"./index-DSCegQmK.js";import"./index.vue_vue_type_script_setup_true_lang-Sn60HHzg.js";const _=k({name:"FmCountTo",__name:"index",props:{startVal:{},endVal:{},autoplay:{type:Boolean,default:!0},duration:{default:2e3},transition:{default:"linear"},delay:{default:0},decimals:{default:0},separator:{default:","},prefix:{},suffix:{}},emits:["onStarted","onFinished"],setup(l,{expose:s,emit:o}){const t=l,d=o,f=x(!1),p=x(t.startVal),r=h(p,{duration:t.duration,transition:D[t.transition],delay:t.delay,disabled:f,onStarted:()=>d("onStarted"),onFinished:()=>d("onFinished")}),T=P(()=>{let e=a(r.value);if(e=Number(e).toFixed(t.decimals),t.separator){const[C,R]=e.toString().split(".");e=C.replace(/\B(?=(\d{3})+(?!\d))/g,t.separator)+(R?".".concat(R):"")}return t.prefix&&(e=t.prefix+e),t.suffix&&(e=e+t.suffix),e});function i(){p.value=t.endVal}function v(){f.value=!0,p.value=t.startVal,O(()=>{f.value=!1})}return S([()=>t.startVal,()=>t.endVal],()=>{i()}),b(()=>{t.autoplay&&i()}),s({start:i,reset:v}),(e,C)=>(u(),$("span",null,N(a(T)),1))}}),L={};function M(l,s){const o=_;return u(),m(o,{"start-val":0,"end-val":1e5})}const Q=F(L,[["render",M]]),U='<template>\n  <FmCountTo :start-val="0" :end-val="100000" />\n</template>\n',W={};function X(l,s){const o=_;return u(),m(o,{"start-val":0,"end-val":1e5,duration:1e4})}const q=F(W,[["render",X]]),z='<template>\n  <FmCountTo :start-val="0" :end-val="100000" :duration="10000" />\n</template>\n',A={};function H(l,s){const o=_;return u(),m(o,{"start-val":0,"end-val":1e5,decimals:2})}const I=F(A,[["render",H]]),J='<template>\n  <FmCountTo :start-val="0" :end-val="100000" :decimals="2" />\n</template>\n',K={};function Y(l,s){const o=_;return u(),m(o,{"start-val":0,"end-val":1e5,prefix:"￥",suffix:"元"})}const Z=F(K,[["render",Y]]),tt='<template>\n  <FmCountTo :start-val="0" :end-val="100000" prefix="￥" suffix="元" />\n</template>\n',nt={class:"flex flex-row gap-2"},et=k({__name:"_demo5",setup(l){const s=j("countToRef"),o=x(0),t=x(1e5);function d(){B("开始")}function f(){B("结束")}return(p,r)=>{var v,e;const T=_,i=E;return u(),$(G,null,[n(T,{ref_key:"countToRef",ref:s,"start-val":a(o),"end-val":a(t),autoplay:!1,onOnStarted:d,onOnFinished:f},null,8,["start-val","end-val"]),w("div",nt,[n(i,{onClick:(v=a(s))==null?void 0:v.start},{default:c(()=>[...r[1]||(r[1]=[V(" 开始 ",-1)])]),_:1},8,["onClick"]),n(i,{onClick:(e=a(s))==null?void 0:e.reset},{default:c(()=>[...r[2]||(r[2]=[V(" 重置 ",-1)])]),_:1},8,["onClick"]),n(i,{onClick:r[0]||(r[0]=C=>t.value+=1e4)},{default:c(()=>[...r[3]||(r[3]=[V(" 增加10000 ",-1)])]),_:1})])],64)}}}),ot='<script setup lang="ts">\nimport { toast } from \'vue-sonner\'\n\nconst countToRef = useTemplateRef(\'countToRef\')\n\nconst startVal = ref(0)\nconst endVal = ref(100000)\n\nfunction onStarted() {\n  toast(\'开始\')\n}\n\nfunction onFinished() {\n  toast(\'结束\')\n}\n<\/script>\n\n<template>\n  <FmCountTo ref="countToRef" :start-val="startVal" :end-val="endVal" :autoplay="false" @on-started="onStarted" @on-finished="onFinished" />\n  <div class="flex flex-row gap-2">\n    <FmButton @click="countToRef?.start">\n      开始\n    </FmButton>\n    <FmButton @click="countToRef?.reset">\n      重置\n    </FmButton>\n    <FmButton @click="endVal += 10000">\n      增加10000\n    </FmButton>\n  </div>\n</template>\n',lt=k({__name:"index",setup(l){return(s,o)=>{const t=g,d=y;return u(),m(d,{navbar:"","navbar-start-side":"back"},{default:c(()=>[w("div",null,[n(t,{code:a(U)},{default:c(()=>[n(Q)]),_:1},8,["code"]),n(t,{title:"持续10秒",code:a(z)},{default:c(()=>[n(q)]),_:1},8,["code"]),n(t,{title:"保留2位小数",code:a(J)},{default:c(()=>[n(I)]),_:1},8,["code"]),n(t,{title:"带前缀和后缀",code:a(tt)},{default:c(()=>[n(Z)]),_:1},8,["code"]),n(t,{title:"手动控制",code:a(ot)},{default:c(()=>[n(et)]),_:1},8,["code"])])]),_:1})}}});export{lt as default};
