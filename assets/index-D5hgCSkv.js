
/**
 * 由 Fantastic-mobile 提供技术支持
 * Powered by Fantastic-mobile
 * https://fantastic-mobile.hurui.me/
 */
    
import{_ as ia}from"./index-TGLGxjLi.js";import{_ as sa}from"./index.vue_vue_type_script_setup_true_lang-CuFXODrP.js";import{d as L,aX as Ne,y as Le,o as E,c as I,w as T,A as H,u as l,P as ua,b as q,B as de,I as da,p as se,aY as ca,a6 as va,aZ as fa,a4 as $e,D as pa,a1 as ma,a_ as ha,r as _,G as M,S as J,x as wa,ao as ya,j as ze,af as ga,h as ba,U as He,K as We,a9 as $a,aa as _a,J as _e,L as Q,a$ as Ba,a as je,b0 as Da,k as Be,q as ue,b1 as xa,f as te,t as he,_ as Ue,i as Oa,F as Sa}from"./index-DSCegQmK.js";import{u as Ta}from"./useBodyScrollLock-5zKe4n9N.js";import"./index.vue_vue_type_script_setup_true_lang-Sn60HHzg.js";var Pa=L({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=Ne();return Ta(!0),Le(),(o,t)=>(E(),I(l(ua),{as:o.as,"as-child":o.asChild,"data-state":l(a).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:T(()=>[H(o.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),ka=Pa,Ca=L({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=Ne(),{forwardRef:o}=Le();return(t,n)=>{var v;return(v=l(a))!=null&&v.modal.value?(E(),I(l(da),{key:0,present:t.forceMount||l(a).open.value},{default:T(()=>[q(ka,de(t.$attrs,{ref:l(o),as:t.as,"as-child":t.asChild}),{default:T(()=>[H(t.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):se("v-if",!0)}}}),Ra=Ca;(function(){var e;try{if(typeof document<"u"){var a=document.createElement("style");a.nonce=(e=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:e.content,a.appendChild(document.createTextNode('[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32,.72,0,1);animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform, 100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform, 100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height, 0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height, 0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true]):after{content:"";position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]:after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]:after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]:after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]:after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:hover,[data-vaul-handle]:active{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover: hover) and (pointer: fine){[data-vaul-drawer]{-webkit-user-select:none;user-select:none}}@media (pointer: fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{0%{transform:translate3d(0,var(--initial-transform, 100%),0)}to{transform:translateZ(0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform, 100%),0)}}@keyframes slideFromTop{0%{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}to{transform:translateZ(0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}}@keyframes slideFromLeft{0%{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}to{transform:translateZ(0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}}@keyframes slideFromRight{0%{transform:translate3d(var(--initial-transform, 100%),0,0)}to{transform:translateZ(0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform, 100%),0,0)}}')),document.head.appendChild(a)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}})();const Ea=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Fa=e=>typeof e<"u";function Aa(e){return JSON.parse(JSON.stringify(e))}function Fe(e,a,o,t={}){var n,v,i;const{clone:h=!1,passive:y=!1,eventName:P,deep:k=!1,defaultValue:g,shouldEmit:s}=t,b=ya(),m=o||(b==null?void 0:b.emit)||((n=b==null?void 0:b.$emit)==null?void 0:n.bind(b))||((i=(v=b==null?void 0:b.proxy)==null?void 0:v.$emit)==null?void 0:i.bind(b==null?void 0:b.proxy));let d=P;a||(a="modelValue"),d=d||"update:".concat(a.toString());const j=u=>h?typeof h=="function"?h(u):Aa(u):u,Y=()=>Fa(e[a])?j(e[a]):g,c=u=>{s?s(u)&&m(d,u):m(d,u)};if(y){const u=Y(),f=_(u);let p=!1;return J(()=>e[a],B=>{p||(p=!0,f.value=j(B),He(()=>p=!1))}),J(f,B=>{!p&&(B!==e[a]||k)&&c(B)},{deep:k}),f}else return M({get(){return Y()},set(u){c(u)}})}const[De,Ia]=wa("DrawerRoot"),Me=new WeakMap;function F(e,a,o=!1){if(!e||!(e instanceof HTMLElement)||!a)return;const t={};Object.entries(a).forEach(([n,v])=>{if(n.startsWith("--")){e.style.setProperty(n,v);return}t[n]=e.style[n],e.style[n]=v}),!o&&Me.set(e,t)}function Na(e,a){if(!e||!(e instanceof HTMLElement))return;const o=Me.get(e);o&&Object.entries(o).forEach(([t,n])=>{e.style[t]=n})}function we(e,a){const o=window.getComputedStyle(e),t=o.transform||o.webkitTransform||o.mozTransform;let n=t.match(/^matrix3d\((.+)\)$/);return n?Number.parseFloat(n[1].split(", ")[C(a)?13:12]):(n=t.match(/^matrix\((.+)\)$/),n?Number.parseFloat(n[1].split(", ")[C(a)?5:4]):null)}function La(e){return 8*(Math.log(e+1)-2)}function C(e){switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}}function be(e,a){if(!e)return()=>{};const o=e.style.cssText;return Object.assign(e.style,a),()=>{e.style.cssText=o}}function za(...e){return(...a)=>{for(const o of e)typeof o=="function"&&o(...a)}}const O={DURATION:.5,EASE:[.32,.72,0,1]},qe=.4,Ha=.25,Wa=100,Ve=8,ye=16,Ye=26,Ae="vaul-dragging";function ja({activeSnapPoint:e,snapPoints:a,drawerRef:o,overlayRef:t,fadeFromIndex:n,onSnapPointChange:v,direction:i}){const h=_(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);function y(){h.value={innerWidth:window.innerWidth,innerHeight:window.innerHeight}}ze(()=>{typeof window<"u"&&window.addEventListener("resize",y)}),ga(()=>{typeof window<"u"&&window.removeEventListener("resize",y)});const P=M(()=>{var c;return(c=a.value&&e.value===a.value[a.value.length-1])!=null?c:null}),k=M(()=>{var c;return a.value&&a.value.length>0&&((n==null?void 0:n.value)||(n==null?void 0:n.value)===0)&&!Number.isNaN(n==null?void 0:n.value)&&a.value[(c=n==null?void 0:n.value)!=null?c:-1]===e.value||!a.value}),g=M(()=>{var u;var c;return(u=(c=a.value)==null?void 0:c.findIndex(f=>f===e.value))!=null?u:null}),s=M(()=>{var u;var c;return(u=(c=a.value)==null?void 0:c.map(f=>{const p=typeof f=="string";let B=0;if(p&&(B=Number.parseInt(f,10)),C(i.value)){const z=p?B:h.value?f*h.value.innerHeight:0;return h.value?i.value==="bottom"?h.value.innerHeight-z:-h.value.innerHeight+z:z}const D=p?B:h.value?f*h.value.innerWidth:0;return h.value?i.value==="right"?h.value.innerWidth-D:-h.value.innerWidth+D:D}))!=null?u:[]}),b=M(()=>{var c;return g.value!==null?(c=s.value)==null?void 0:c[g.value]:null}),m=c=>{var z,U;var u,f,p,B;const D=(z=(u=s.value)==null?void 0:u.findIndex(V=>V===c))!=null?z:null;He(()=>{var V;v(D,s.value),F((V=o.value)==null?void 0:V.$el,{transition:"transform ".concat(O.DURATION,"s cubic-bezier(").concat(O.EASE.join(","),")"),transform:C(i.value)?"translate3d(0, ".concat(c,"px, 0)"):"translate3d(".concat(c,"px, 0, 0)")})}),s.value&&D!==s.value.length-1&&D!==(n==null?void 0:n.value)?F((f=t.value)==null?void 0:f.$el,{transition:"opacity ".concat(O.DURATION,"s cubic-bezier(").concat(O.EASE.join(","),")"),opacity:"0"}):F((p=t.value)==null?void 0:p.$el,{transition:"opacity ".concat(O.DURATION,"s cubic-bezier(").concat(O.EASE.join(","),")"),opacity:"1"}),e.value=D!==null&&(U=(B=a.value)==null?void 0:B[D])!=null?U:null};J([e,s,a],()=>{var u;var c;if(e.value){const f=(u=(c=a.value)==null?void 0:c.findIndex(p=>p===e.value))!=null?u:-1;s.value&&f!==-1&&typeof s.value[f]=="number"&&m(s.value[f])}},{immediate:!0});function d({draggedDistance:c,closeDrawer:u,velocity:f,dismissible:p}){var ce,w,oe;var B,D,z;if(n.value===void 0)return;const U=i.value==="bottom"||i.value==="right"?((ce=b.value)!=null?ce:0)-c:((w=b.value)!=null?w:0)+c,V=g.value===n.value-1,ee=g.value===0,X=c>0;if(V&&F((B=t.value)==null?void 0:B.$el,{transition:"opacity ".concat(O.DURATION,"s cubic-bezier(").concat(O.EASE.join(","),")")}),f>2&&!X){p?u():m(s.value[0]);return}if(f>2&&X&&s&&a.value){m(s.value[a.value.length-1]);return}const ne=(D=s.value)==null?void 0:D.reduce((S,le)=>typeof S!="number"||typeof le!="number"?S:Math.abs(le-U)<Math.abs(S-U)?le:S),ae=C(i.value)?window.innerHeight:window.innerWidth;if(f>qe&&Math.abs(c)<ae*.4){const S=X?1:-1;if(S>0&&P){m(s.value[((oe=(z=a.value)==null?void 0:z.length)!=null?oe:0)-1]);return}if(ee&&S<0&&p&&u(),g.value===null)return;m(s.value[g.value+S]);return}m(ne)}function j({draggedDistance:c}){var u;if(b.value===null)return;const f=i.value==="bottom"||i.value==="right"?b.value-c:b.value+c;(i.value==="bottom"||i.value==="right")&&f<s.value[s.value.length-1]||(i.value==="top"||i.value==="left")&&f>s.value[s.value.length-1]||F((u=o.value)==null?void 0:u.$el,{transform:C(i.value)?"translate3d(0, ".concat(f,"px, 0)"):"translate3d(".concat(f,"px, 0, 0)")})}function Y(c,u){if(!a.value||typeof g.value!="number"||!s.value||n.value===void 0)return null;const f=g.value===n.value-1;if(g.value>=n.value&&u)return 0;if(f&&!u)return 1;if(!k.value&&!f)return null;const p=f?g.value+1:g.value-1,B=f?s.value[p]-s.value[p-1]:s.value[p+1]-s.value[p],D=c/Math.abs(B);return f?1-D:D}return{isLastSnapPoint:P,shouldFade:k,getPercentageDragged:Y,activeSnapPointIndex:g,onRelease:d,onDrag:j,snapPointsOffset:s}}function Ie(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}let ie=null;function Ua(e){const{isOpen:a,modal:o,nested:t,hasBeenOpened:n,preventScrollRestoration:v,noBodyStyles:i}=e,h=_(typeof window<"u"?window.location.href:""),y=_(0);function P(){if(Ie()&&ie===null&&a.value&&!i.value){ie={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:g,innerHeight:s}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:"".concat(-y.value,"px"),left:"".concat(-g,"px"),right:"0px",height:"auto"}),setTimeout(()=>{requestAnimationFrame(()=>{const b=s-window.innerHeight;b&&y.value>=s&&(document.body.style.top="-".concat(y.value+b,"px"))})},300)}}function k(){if(Ie()&&ie!==null&&!i.value){const g=-Number.parseInt(document.body.style.top,10),s=-Number.parseInt(document.body.style.left,10);Object.assign(document.body.style,ie),window.requestAnimationFrame(()=>{if(v.value&&h.value!==window.location.href){h.value=window.location.href;return}window.scrollTo(s,g)}),ie=null}}return ze(()=>{function g(){y.value=window.scrollY}g(),window.addEventListener("scroll",g),ba(()=>{window.removeEventListener("scroll",g)})}),J([a,n,h],()=>{t.value||!n.value||(a.value?(window.matchMedia("(display-mode: standalone)").matches||P(),o.value||setTimeout(()=>{k()},500)):k())}),{restorePositionSetting:k}}function Ma(e,a){return e&&e.value?e:a}function qa(e){var Pe;const{emitDrag:a,emitRelease:o,emitClose:t,emitOpenChange:n,open:v,dismissible:i,nested:h,modal:y,shouldScaleBackground:P,setBackgroundColorOnScale:k,scrollLockTimeout:g,closeThreshold:s,activeSnapPoint:b,fadeFromIndex:m,direction:d,noBodyStyles:j,handleOnly:Y,preventScrollRestoration:c}=e,u=_((Pe=v.value)!=null?Pe:!1),f=_(!1),p=_(!1),B=_(!1),D=_(null),z=_(null),U=_(null),V=_(null),ee=_(null),X=_(!1),ne=_(null),ae=_(0),ce=_(!1),w=_(null),oe=M(()=>{var r;return((r=w.value)==null?void 0:r.$el.getBoundingClientRect().height)||0}),S=Ma(e.snapPoints,_(void 0)),le=M(()=>{var x;var r;return S&&((x=(r=S.value)==null?void 0:r.length)!=null?x:0)>0}),Xe=_(null),{activeSnapPointIndex:xe,onRelease:Ge,snapPointsOffset:Ze,onDrag:Ke,shouldFade:Oe,getPercentageDragged:Je}=ja({snapPoints:S,activeSnapPoint:b,drawerRef:w,fadeFromIndex:m,overlayRef:D,onSnapPointChange:Qe,direction:d});function Qe(r,x){S.value&&r===x.length-1&&(z.value=new Date)}Ua({isOpen:u,modal:y,nested:h,hasBeenOpened:f,noBodyStyles:j,preventScrollRestoration:c});function ve(){return(window.innerWidth-Ye)/window.innerWidth}function Se(r,x){var R;if(!r)return!1;let $=r;const A=(R=window.getSelection())==null?void 0:R.toString(),N=w.value?we(w.value.$el,d.value):null,W=new Date;if($.hasAttribute("data-vaul-no-drag")||$.closest("[data-vaul-no-drag]"))return!1;if(d.value==="right"||d.value==="left")return!0;if(z.value&&W.getTime()-z.value.getTime()<500)return!1;if(N!==null&&(d.value==="bottom"?N>0:N<0))return!0;if(A&&A.length>0)return!1;if(ee.value&&W.getTime()-ee.value.getTime()<g.value&&N===0||x)return ee.value=W,!1;for(;$;){if($.scrollHeight>$.clientHeight){if($.scrollTop!==0)return ee.value=new Date,!1;if($.getAttribute("role")==="dialog")return!0}$=$.parentNode}return!0}function ea(r){!i.value&&!S.value||w.value&&!w.value.$el.contains(r.target)||(p.value=!0,U.value=new Date,r.target.setPointerCapture(r.pointerId),ae.value=C(d.value)?r.clientY:r.clientX)}function aa(r){var x,R,$,A,N,W;if(w.value&&p.value){const G=d.value==="bottom"||d.value==="right"?1:-1,fe=(ae.value-(C(d.value)?r.clientY:r.clientX))*G,pe=fe>0,ke=S.value&&!i.value&&!pe;if(ke&&xe.value===0)return;const ge=Math.abs(fe),Ce=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");let Z=ge/oe.value;const Re=Je(ge,pe);if(Re!==null&&(Z=Re),ke&&Z>=1||!X.value&&!Se(r.target,pe))return;if((x=w==null?void 0:w.value)==null||x.$el.classList.add(Ae),X.value=!0,F((R=w.value)==null?void 0:R.$el,{transition:"none"}),F(($=D.value)==null?void 0:$.$el,{transition:"none"}),S.value&&Ke({draggedDistance:fe}),pe&&!S.value){const K=La(fe),me=Math.min(K*-1,0)*G;F((A=w.value)==null?void 0:A.$el,{transform:C(d.value)?"translate3d(0, ".concat(me,"px, 0)"):"translate3d(".concat(me,"px, 0, 0)")});return}const ra=1-Z;if((Oe.value||m.value&&xe.value===m.value-1)&&(a(Z),F((N=D.value)==null?void 0:N.$el,{opacity:"".concat(ra),transition:"none"},!0)),Ce&&D.value&&P.value){const K=Math.min(ve()+Z*(1-ve()),1),me=8-Z*8,Ee=Math.max(0,14-Z*14);F(Ce,{borderRadius:"".concat(me,"px"),transform:C(d.value)?"scale(".concat(K,") translate3d(0, ").concat(Ee,"px, 0)"):"scale(".concat(K,") translate3d(").concat(Ee,"px, 0, 0)"),transition:"none"},!0)}if(!S.value){const K=ge*G;F((W=w.value)==null?void 0:W.$el,{transform:C(d.value)?"translate3d(0, ".concat(K,"px, 0)"):"translate3d(".concat(K,"px, 0, 0)")})}}}function Te(){var r;if(!w.value)return;const x=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]"),R=we(w.value.$el,d.value);F(w.value.$el,{transform:"translate3d(0, 0, 0)",transition:"transform ".concat(O.DURATION,"s cubic-bezier(").concat(O.EASE.join(","),")")}),F((r=D.value)==null?void 0:r.$el,{transition:"opacity ".concat(O.DURATION,"s cubic-bezier(").concat(O.EASE.join(","),")"),opacity:"1"}),P.value&&R&&R>0&&u.value&&F(x,{borderRadius:"".concat(Ve,"px"),overflow:"hidden",...C(d.value)?{transform:"scale(".concat(ve(),") translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)"),transformOrigin:"top"}:{transform:"scale(".concat(ve(),") translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)"),transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:"".concat(O.DURATION,"s"),transitionTimingFunction:"cubic-bezier(".concat(O.EASE.join(","),")")},!0)}function re(r){w.value&&(t(),r||(u.value=!1),window.setTimeout(()=>{S.value&&(b.value=S.value[0])},O.DURATION*1e3))}$e(()=>{if(!u.value&&P.value&&Ea){const r=setTimeout(()=>{Na(document.body)},200);return()=>clearTimeout(r)}}),J(v,()=>{u.value=v.value,v.value||re()});function ta(r){var W;if(!p.value||!w.value)return;w.value.$el.classList.remove(Ae),X.value=!1,p.value=!1,V.value=new Date;const x=we(w.value.$el,d.value);if(!Se(r.target,!1)||!x||Number.isNaN(x)||U.value===null)return;const R=V.value.getTime()-U.value.getTime(),$=ae.value-(C(d.value)?r.clientY:r.clientX),A=Math.abs($)/R;if(A>.05&&(B.value=!0,window.setTimeout(()=>{B.value=!1},200)),S.value){const G=d.value==="bottom"||d.value==="right"?1:-1;Ge({draggedDistance:$*G,closeDrawer:re,velocity:A,dismissible:i.value}),o(!0);return}if(d.value==="bottom"||d.value==="right"?$>0:$<0){Te(),o(!0);return}if(A>qe){re(),o(!1);return}const N=Math.min((W=w.value.$el.getBoundingClientRect().height)!=null?W:0,window.innerHeight);if(x>=N*s.value){re(),o(!1);return}o(!0),Te()}J(u,r=>{r&&(z.value=new Date),n(r)},{immediate:!0});function na(r){var x,R;const $=r?(window.innerWidth-ye)/window.innerWidth:1,A=r?-16:0;ne.value&&window.clearTimeout(ne.value),F((x=w.value)==null?void 0:x.$el,{transition:"transform ".concat(O.DURATION,"s cubic-bezier(").concat(O.EASE.join(","),")"),transform:"scale(".concat($,") translate3d(0, ").concat(A,"px, 0)")}),!r&&(R=w.value)!=null&&R.$el&&(ne.value=window.setTimeout(()=>{var N,W;const G=we((N=w.value)==null?void 0:N.$el,d.value);F((W=w.value)==null?void 0:W.$el,{transition:"none",transform:C(d.value)?"translate3d(0, ".concat(G,"px, 0)"):"translate3d(".concat(G,"px, 0, 0)")})},500))}function oa(r){var x;if(r<0)return;const R=C(d.value)?window.innerHeight:window.innerWidth,$=(R-ye)/R,A=$+r*(1-$),N=-16+r*ye;F((x=w.value)==null?void 0:x.$el,{transform:C(d.value)?"scale(".concat(A,") translate3d(0, ").concat(N,"px, 0)"):"scale(".concat(A,") translate3d(").concat(N,"px, 0, 0)"),transition:"none"})}function la(r){var x;const R=C(d.value)?window.innerHeight:window.innerWidth,$=r?(R-ye)/R:1,A=r?-16:0;r&&F((x=w.value)==null?void 0:x.$el,{transition:"transform ".concat(O.DURATION,"s cubic-bezier(").concat(O.EASE.join(","),")"),transform:C(d.value)?"scale(".concat($,") translate3d(0, ").concat(A,"px, 0)"):"scale(".concat($,") translate3d(").concat(A,"px, 0, 0)")})}return{open:v,isOpen:u,modal:y,keyboardIsOpen:ce,hasBeenOpened:f,drawerRef:w,drawerHeightRef:oe,overlayRef:D,handleRef:Xe,isDragging:p,dragStartTime:U,isAllowedToDrag:X,snapPoints:S,activeSnapPoint:b,hasSnapPoints:le,pointerStart:ae,dismissible:i,snapPointsOffset:Ze,direction:d,shouldFade:Oe,fadeFromIndex:m,shouldScaleBackground:P,setBackgroundColorOnScale:k,onPress:ea,onDrag:aa,onRelease:ta,closeDrawer:re,onNestedDrag:oa,onNestedRelease:la,onNestedOpenChange:na,emitClose:t,emitDrag:a,emitRelease:o,emitOpenChange:n,nested:h,handleOnly:Y,noBodyStyles:j}}const Va=L({__name:"DrawerRoot",props:{activeSnapPoint:{default:void 0},closeThreshold:{default:Ha},shouldScaleBackground:{type:Boolean,default:void 0},setBackgroundColorOnScale:{type:Boolean,default:!0},scrollLockTimeout:{default:Wa},fixed:{type:Boolean,default:void 0},dismissible:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},nested:{type:Boolean,default:!1},direction:{default:"bottom"},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean,default:!1},preventScrollRestoration:{type:Boolean},snapPoints:{default:void 0},fadeFromIndex:{default:void 0}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(e,{expose:a,emit:o}){const t=e,n=o;ca();const v=M(()=>{var m;return(m=t.fadeFromIndex)!=null?m:t.snapPoints&&t.snapPoints.length-1}),i=Fe(t,"open",n,{defaultValue:t.defaultOpen,passive:t.open===void 0}),h=Fe(t,"activeSnapPoint",n,{passive:t.activeSnapPoint===void 0}),y={emitDrag:m=>n("drag",m),emitRelease:m=>n("release",m),emitClose:()=>n("close"),emitOpenChange:m=>{n("update:open",m),setTimeout(()=>{n("animationEnd",m)},O.DURATION*1e3)}},{closeDrawer:P,hasBeenOpened:k,modal:g,isOpen:s}=Ia(qa({...y,...va(t),activeSnapPoint:h,fadeFromIndex:v,open:i}));function b(m){if(i.value!==void 0){y.emitOpenChange(m);return}s.value=m,m?k.value=!0:P()}return a({open:s}),(m,d)=>(E(),I(l(fa),{open:l(s),modal:l(g),"onUpdate:open":b},{default:T(()=>[H(m.$slots,"default",{open:l(s)})]),_:3},8,["open","modal"]))}}),Ya=L({__name:"DrawerOverlay",setup(e){const{overlayRef:a,hasSnapPoints:o,isOpen:t,shouldFade:n}=De();return(v,i)=>(E(),I(l(Ra),{ref_key:"overlayRef",ref:a,"data-vaul-overlay":"","data-vaul-snap-points":l(t)&&l(o)?"true":"false","data-vaul-snap-points-overlay":l(t)&&l(n)?"true":"false"},null,8,["data-vaul-snap-points","data-vaul-snap-points-overlay"]))}}),Xa=()=>()=>{};function Ga(){const{direction:e,isOpen:a,shouldScaleBackground:o,setBackgroundColorOnScale:t,noBodyStyles:n}=De(),v=_(null),i=_(document.body.style.backgroundColor);function h(){return(window.innerWidth-Ye)/window.innerWidth}$e(y=>{if(a.value&&o.value){v.value&&clearTimeout(v.value);const P=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!P)return;za(t.value&&!n.value?be(document.body,{background:"black"}):Xa,be(P,{transformOrigin:C(e.value)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:"".concat(O.DURATION,"s"),transitionTimingFunction:"cubic-bezier(".concat(O.EASE.join(","),")")}));const k=be(P,{borderRadius:"".concat(Ve,"px"),overflow:"hidden",...C(e.value)?{transform:"scale(".concat(h(),") translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)")}:{transform:"scale(".concat(h(),") translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)")}});y(()=>{k(),v.value=window.setTimeout(()=>{i.value?document.body.style.background=i.value:document.body.style.removeProperty("background")},O.DURATION*1e3)})}},{flush:"pre"})}const Za=L({__name:"DrawerContent",setup(e){const{open:a,isOpen:o,snapPointsOffset:t,hasSnapPoints:n,drawerRef:v,onPress:i,onDrag:h,onRelease:y,modal:P,emitOpenChange:k,dismissible:g,keyboardIsOpen:s,closeDrawer:b,direction:m,handleOnly:d}=De();Ga();const j=_(!1),Y=M(()=>t.value&&t.value.length>0?"".concat(t.value[0],"px"):"0");function c(p){if(!P.value||p.defaultPrevented){p.preventDefault();return}s.value&&(s.value=!1),g.value?k(!1):p.preventDefault()}function u(p){d.value||i(p)}function f(p){d.value||h(p)}return $e(()=>{n.value&&window.requestAnimationFrame(()=>{j.value=!0})}),(p,B)=>(E(),I(l(ha),{ref_key:"drawerRef",ref:v,"data-vaul-drawer":"","data-vaul-drawer-direction":l(m),"data-vaul-delayed-snap-points":j.value?"true":"false","data-vaul-snap-points":l(o)&&l(n)?"true":"false",style:ma({"--snap-point-height":Y.value}),onPointerdown:u,onPointermove:f,onPointerup:l(y),onPointerDownOutside:c,onOpenAutoFocus:B[0]||(B[0]=pa(()=>{},["prevent"])),onEscapeKeyDown:B[1]||(B[1]=D=>{l(g)||D.preventDefault()})},{default:T(()=>[H(p.$slots,"default")]),_:3},8,["data-vaul-drawer-direction","data-vaul-delayed-snap-points","data-vaul-snap-points","style","onPointerup"]))}}),Ka=L({__name:"Drawer",props:{activeSnapPoint:{},closeThreshold:{},shouldScaleBackground:{type:Boolean,default:!0},setBackgroundColorOnScale:{type:Boolean},scrollLockTimeout:{},fixed:{type:Boolean},dismissible:{type:Boolean},modal:{type:Boolean},open:{type:Boolean},defaultOpen:{type:Boolean},nested:{type:Boolean},direction:{},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean},preventScrollRestoration:{type:Boolean},snapPoints:{},fadeFromIndex:{}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(e,{emit:a}){const n=We(e,a);return(v,i)=>(E(),I(l(Va),$a(_a(l(n))),{default:T(()=>[H(v.$slots,"default")]),_:3},16))}}),Ja=L({__name:"DrawerOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,o=_e(a,"class");return(t,n)=>(E(),I(l(Ya),de(l(o),{class:l(Q)("fixed inset-0 z-2000 bg-black/80",a.class)}),null,16,["class"]))}}),Qa=L({__name:"DrawerContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const o=e,n=We(o,a);return(v,i)=>(E(),I(l(Ba),null,{default:T(()=>[q(Ja),q(l(Za),de(l(n),{class:l(Q)("fixed inset-x-0 bottom-0 z-2000 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",o.class)}),{default:T(()=>[i[0]||(i[0]=je("div",{class:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"},null,-1)),H(v.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),et=L({__name:"DrawerDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,o=_e(a,"class");return(t,n)=>(E(),I(l(Da),de(l(o),{class:l(Q)("text-sm text-muted-foreground",a.class)}),{default:T(()=>[H(t.$slots,"default")]),_:3},16,["class"]))}}),at=L({__name:"DrawerFooter",props:{class:{}},setup(e){const a=e;return(o,t)=>(E(),Be("div",{class:ue(l(Q)("mt-auto flex flex-col gap-2 p-4",a.class))},[H(o.$slots,"default")],2))}}),tt=L({__name:"DrawerHeader",props:{class:{}},setup(e){const a=e;return(o,t)=>(E(),Be("div",{class:ue(l(Q)("grid gap-1.5 p-4 text-center sm:text-left",a.class))},[H(o.$slots,"default")],2))}}),nt=L({__name:"DrawerTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,o=_e(a,"class");return(t,n)=>(E(),I(l(xa),de(l(o),{class:l(Q)("text-lg font-semibold leading-none tracking-tight",a.class)}),{default:T(()=>[H(t.$slots,"default")]),_:3},16,["class"]))}}),ot=L({name:"FmSpringDrawer",__name:"index",props:{modelValue:{type:Boolean,default:!1},title:{},description:{},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmButtonText:{default:"确定"},cancelButtonText:{default:"取消"},confirmButtonDisabled:{type:Boolean,default:!1},confirmButtonLoading:{type:Boolean,default:!1},header:{type:Boolean,default:!0},footer:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},contentClass:{},headerClass:{},footerClass:{}},emits:["update:modelValue","open","opened","close","closed","confirm","cancel"],setup(e,{emit:a}){const o=e,t=a,n=_(o.modelValue);J(()=>o.modelValue,y=>{n.value=y});function v(y){n.value=y,t("update:modelValue",y),t(y?"open":"close")}function i(){v(!1),t("confirm")}function h(){v(!1),t("cancel")}return(y,P)=>{const k=Ue;return E(),I(l(Ka),{open:l(n),"onUpdate:open":v},{default:T(()=>[q(l(Qa),null,{default:T(()=>[e.header?(E(),I(l(tt),{key:0,class:ue(e.headerClass)},{default:T(()=>[H(y.$slots,"header",{},()=>[q(l(nt),null,{default:T(()=>[te(he(e.title),1)]),_:1}),q(l(et),{class:"empty:hidden"},{default:T(()=>[te(he(e.description),1)]),_:1})])]),_:3},8,["class"])):se("",!0),je("div",{class:ue(l(Q)("flex-col-center p-4",e.contentClass))},[H(y.$slots,"default")],2),e.footer?(E(),I(l(at),{key:1,class:ue(e.footerClass)},{default:T(()=>[H(y.$slots,"footer",{},()=>[e.showConfirmButton?(E(),I(k,{key:0,disabled:e.confirmButtonDisabled,loading:e.confirmButtonLoading,onClick:i},{default:T(()=>[te(he(e.confirmButtonText),1)]),_:1},8,["disabled","loading"])):se("",!0),e.showCancelButton?(E(),I(k,{key:1,variant:"outline",onClick:h},{default:T(()=>[te(he(e.cancelButtonText),1)]),_:1})):se("",!0)])]),_:3},8,["class"])):se("",!0)]),_:3})]),_:3},8,["open"])}}}),lt=L({__name:"_demo1",setup(e){const a=_(!1);return(o,t)=>{const n=Ue,v=ot;return E(),Be(Sa,null,[q(n,{onClick:t[0]||(t[0]=i=>a.value=!0)},{default:T(()=>[...t[2]||(t[2]=[te(" 打开 ",-1)])]),_:1}),q(v,{modelValue:l(a),"onUpdate:modelValue":t[1]||(t[1]=i=>Oa(a)?a.value=i:null),title:"标题"},{default:T(()=>[...t[3]||(t[3]=[te(" 这里是弹簧抽屉内容 ",-1)])]),_:1},8,["modelValue"])],64)}}}),rt='<script setup lang="ts">\nconst drawer = ref(false)\n<\/script>\n\n<template>\n  <FmButton @click="drawer = true">\n    打开\n  </FmButton>\n  <FmSpringDrawer v-model="drawer" title="标题">\n    这里是弹簧抽屉内容\n  </FmSpringDrawer>\n</template>\n',vt=L({__name:"index",setup(e){return(a,o)=>{const t=sa,n=ia;return E(),I(n,{navbar:"","navbar-start-side":"back"},{default:T(()=>[q(t,{code:l(rt)},{default:T(()=>[q(lt)]),_:1},8,["code"])]),_:1})}}});export{vt as default};
